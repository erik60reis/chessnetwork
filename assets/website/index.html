<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess</title>
    <style>
        body {
            background-color: #f7f7f7;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: #333;
        }

        #gameContainer {
            width: 90%;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            flex-wrap: wrap; /* Permite que os elementos se ajustem em telas menores */
        }

        #menu {
            width: 100%;
            background-color: #e0e0e0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: white;
            border-radius: 10px;
            margin-bottom: 20px;
            height: auto; /* Ajusta a altura para conteúdo variável */
        }

        #menu img {
            cursor: pointer;
            margin-bottom: 20px;
        }

        #gameMainContainer {
            width: 100%;
            background-color: #f0f0f0;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-bottom: 20px;
        }

        #boardWrapper {
            width: 100%;
            position: relative;
        }

        #gameboard {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        .sidebar {
            width: 100%;
            background-color: #f7f7f7;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            height: auto; /* Ajusta a altura para conteúdo variável */
            margin-bottom: 20px;
        }

        .sidebar h1 {
            font-size: 24px;
            margin-bottom: 20px;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .grid-item {
            background-color: #e0e0e0;
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            cursor: pointer;
            padding: 10px 0;
        }

        .grid-item:hover {
            background-color: #d0d0d0;
        }

        .game-options {
            margin-bottom: 20px;
        }

        .game-options select, .game-options button {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }

        .login-links a {
            display: block;
            color: #007bff;
            text-decoration: none;
            margin-bottom: 10px;
        }

        .login-links a:hover {
            text-decoration: underline;
        }

        #analyseLink:hover {
            text-decoration: underline;
        }

        /* Media Queries para Responsividade */
        @media (min-width: 768px) {
            #menu {
                width: 15%;
                margin-right: 20px;
                height: 80vh;
                margin-bottom: 0;
            }

            #gameMainContainer {
                width: 45%;
                height: 80vh;
                margin-bottom: 0;
            }

            #boardWrapper {
                height: 100%;
            }

            .sidebar {
                width: 25%;
                height: 80vh;
                margin-bottom: 0;
            }
        }

        @media (min-width: 1024px) {
            #gameContainer {
                width: 80%;
            }
        }

        @media (max-width: 767px) {
            #boardWrapper {
                height: 60vw;
            }
            #gameMainContainer {
                display: none;
            }
        }

        @media (max-width: 480px) {
            #boardWrapper {
                height: 80vw;
            }
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <div id="menu">
            <img src="/assets/logobanner.png" width="110" height="55" onclick="window.location.href = '/';" alt="Logo">
            <div class="login-links">
                <a id="analyseLink" href="/analyse">Analyse Your Game</a>
                <a href="{{discord_bot_addition_link}}">Add Discord Bot</a>
                <a href="/login/discord/">Login</a>
            </div>
        </div>
        <div id="gameMainContainer">
            <div id="boardWrapper">
                <div id="gameboard"></div>
            </div>
        </div>
        <div class="sidebar">
            <h1>Create Room</h1>
            <div class="grid-container">
                <div class="grid-item" onclick="createRoom('1+0')">1+0</div>
                <div class="grid-item" onclick="createRoom('2+1')">2+1</div>
                <div class="grid-item" onclick="createRoom('3+0')">3+0</div>
                <div class="grid-item" onclick="createRoom('3+2')">3+2</div>
                <div class="grid-item" onclick="createRoom('5+0')">5+0</div>
                <div class="grid-item" onclick="createRoom('5+3')">5+3</div>
                <div class="grid-item" onclick="createRoom('10+0')">10+0</div>
                <div class="grid-item" onclick="createRoom('10+5')">10+5</div>
                <div class="grid-item" onclick="createRoom('15+10')">15+10</div>
                <div class="grid-item" onclick="createRoom('30+0')">30+0</div>
                <div class="grid-item" onclick="createRoom('30+20')">30+20</div>
            </div>
            <h1>Custom Options</h1>
            <div class="game-options">
                <select id="gametype">
                    <option value="chess/chess">Chess</option>
                    <option value="chess/courier">Courier Chess</option>
                    <option value="chess/gothic">Gothic Chess</option>
                    <option value="chess/racingkings">Racing Kings</option>
                    <option value="chess/antichess">Antichess</option>
                    <option value="chess/3check">3check Chess</option>
                    <option value="chess/horde">Horde Chess</option>
                    <option value="chess/amazon">Amazon Chess</option>
                    <option value="chess/amazons">Amazons Chess</option>
                    <option value="chess/crazyhouse">Crazyhouse Chess</option>
                    <option value="chess2.0/chess2.0">Chesstraps Chess 2.0</option>
                    <option value="checkers/checkers">Checkers</option>
                    <option value="checkers/draughts">Draughts</option>
                </select>
                <select id="gametime">
                    <option value="600/0">---SELECT TIME---</option>
                    <option value="15/0">0:15</option>
                    <option value="60/0">1:00</option>
                    <option value="180/0">3:00</option>
                    <option value="300/0">5:00</option>
                    <option value="300/3">5+3</option>
                    <option value="600/0">10:00</option>
                    <option value="600/5">10+5</option>
                    <option value="900/0">15:00</option>
                    <option value="1800/0">30:00</option>
                    <option value="3600/0">1:00:00</option>
                    <option value="7200/0">2:00:00</option>
                </select>
                <button id="newroombutton">New Room</button>
            </div>
        </div>
    </div>
    <script src="/assets/scripts/gameboard.js"></script>
    <script>
        let gameboardconfig = {
            fen: 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR',
            pieceTheme: "/assets/chesspieces/%piece%.png",
            lightSquareColor: "f0f0f0",
            darkSquareColor: "#d0d0d0"
        }

        let gameBoard = document.getElementById("gameboard");

        createGameBoard(gameBoard, gameboardconfig);

        function createRoom(time) {
            window.location.href = `/quickplay/${time.replace('+', '/')}`;
        }

        document.getElementById('newroombutton').onclick = function () {
            let gametype = document.getElementById('gametype').value;
            let gametime = document.getElementById('gametime').value;
            window.location.href = `/new/${gametype}/${gametime}`;
        };
    </script>
</body>
</html>
